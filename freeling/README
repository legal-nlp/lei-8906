# -*- mode:org -*-
* Produzir TXT lei a partir XML (obtido com parser Bruno):
: xsltproc ../extract.xslt ../lei-8906.xml > lei-8906.txt

Editamos o arquivo txt colocando um cabeçalho para alinhar arquivos
saida com os arquivos do diretório abaixo.

* Separação dos arquivos
: split -p "---" lei-8906.txt art-

* Rodar FREELING
: for f in *.txt; do analyze --noflush -f pt.cfg < $f  > $(basename $f .txt).out ; done

* estatísticas
| 81e23ada4e |     n | unique | unique, no-sense |
|------------+-------+--------+------------------|
| tokens     | 10327 |   1521 |              452 |
| N          |  2267 |    735 |              161 |
| A          |   631 |    237 |               57 |
| V          |  1173 |    334 |               53 |
| R          |   281 |     80 |               46 |

** sentences
number of sentences is the same as the number of blank lines in =art-*.out=
files:
: grep -vP '\S' art-*.out | wc -l
** tokens
number of tokens is the number of non-blank lines in =art-*.out= files:
: grep -P '\S' art-*.out | wc -l
uniques:
: grep -h -P '\S' art-*.out | cut -f2-3 -d ' ' | grep -oE '^[^ ]+ [^ ]' | sort -u | wc -l

** POS
number of tokens with POS ={N,A,V,R}= in =art-*.out= files:
: grep -E '^[^ ]+ [^ ]+ N' art-*.out | wc -l
uniques:
: grep -hE '^[^ ]+ [^ ]+ N' art-*.out | cut -f2-3 -d ' ' |  grep -oE '^[^ ]+ [^ ]' | sort -u | wc -l

** checar tokens sem sense

Freeling não encontrou sense para tokens que deveriam ter, pois são
adjetivos, substantivos, verbos, ou advérbios.

: awk '$3 ~ /^[NAVR]/ && NF < 4 {print}' *.out | sort | uniq -c | sort -nr


